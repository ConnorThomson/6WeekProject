<html>
<script>
    // function to add new entries to the database
    function savedata(){
        var Http=new XMLHttpRequest();
        Http.open("POST","http://"+location.hostname+":9020/rock/add");
        Http.setRequestHeader("Content-Type","application/json");
        let data={
            "artist": document.getElementById("rockartadd").value,
            "songtitle":document.getElementById("rocktitadd").value,
            "link":document.getElementById("rocklinadd").value
        };
        Http.send(JSON.stringify(data));
        alert("Thanks - record has now been added!!!!!");  
    }
    //end of add function
    //start of searching by artist
    function searchArtist(){
        let artist = document.getElementById("rockartsea").value;
        var Http=new XMLHttpRequest();
        Http.open("GET", "http://"+location.hostname+":9020/rock/findbyartist/"+artist);
        Http.setRequestHeader("Content-Type", "application/json");
        Http.onload=function(){
            console.log(JSON.parse(Http.response))
        }
        Http.send();
    }
    //end of search by artist
</script>
<body style="background-color: skyblue;">
    <!--start of title-->
    <div id="rocktitle" style = "position:absolute; top:0; left:350; background-color: midnightblue; height:110; width: 600;">
        <span style="position: relative; top:5; left: 90; color: white; font-size: 500%;">
            Rock Playlist
        </span>
    </div>
    <!--end of title-->
    <!--start of code for creation of creation box with all buttons-->
    <div id="rockadd" style="position: fixed; background-color: midnightblue; top:110; left: 0; height: 250; width: 300; color: white;">
        <pre style="font-size: 120%">
     Adding new songs
        </pre>
        <form>
            <pre>
Artist:      <input id="rockartadd" type="text">
            <br>
Song Title:  <input id="rocktitadd" type="text">
            <br>
Link:        <input id="rocklinadd" type="text">
            </pre>
            <input id="rockconfirm" type="button" value="Submit" onclick="savedata()">
        </form>
    </div>
    <!--end of code for creation box-->
    <!--back to genre button-->
    <div>
        <button id="underback" onclick="location.href='Genres.html'" style="position: absolute; top: 115; left: 615">
            BACK
        </button>
    </div>
    <!--end of back to genre button-->
    <!--search by artist feature-->
    <div id="rockseaart" style="position: fixed; background-color: midnightblue; top:370; left: 0; height: 130; width: 300; color: white;">
     <pre style="font-size: 120%;">    Search by Artist </pre>
        <form>
            <pre>
Artist:      <input id="rockartsea" type="text">
            </pre>
            <input id="rockseacon" type="button" value="submit" onclick="searchArtist()">
        </form>
    </div>
    <!-- end of search by artist feature-->
</body>
</html>